# Calendar Mirror #

Calendar Mirror is a simple rust project to display the contents of a user's google calendar on a Papyrus ePaper display on a Raspberry Pi. 

## Requirement ##

This project has been developed for a Raspberry Pi 3 B+ running with a 2.7" Papyrus ePaper HAT module. The OS was Raspbian Stretch. No other hardware or software configurations have been tested. However it's likely that the code will run on other Raspberry Pi models or operating system with few if any changes. Smaller versions of the Papyrus HAT should also be compatible however it might be possible, even after customising the rendering code, that the display will be too small to show the quantity of information needed for the application to be of practical benefit.

The following are the list of software dependencies required to compile and run this project:

1. Papyrus drivers (https://github.com/PiSupply/PaPiRus). Install these as described in the link.

2. Operating System: Raspbian, (the version tested is based on Debian Stretch),

...The list of packages installed on the Raspberry Pi can be found at http://hourglassapps.com/calendar_mirror/packages.txt

...This list was generated by entering the dpkg --get-selections command. Conversely the same packages can be installed by download the list above and from within the download directory, enter:

...```sudo dpkg --set-selections < packages.txt
...```

3. Rust Version 1.36.0.

## Compilation & Installation ##

10. State machines

..1. Detecting when STM hasn't exited correctly, more specifically the warning that is generated when the allow_immediate_termination method isn't invoked on the starting state revealed issue with tokenising_stm when no processing zero tokens.

..2. Limitations:
.....Relies on lint warnings being generated if particular methods aren't invoked. If, due to oversight, an stm's module is public to external crates then these warnings won't be generated.
.....If the user declares an unending stm with accepting states the stm macro draws the developer's attention to the issue by generating a compilation error through inserting a method invocation for a method that doesn't exist. Perhaps there's a better way to do this.
