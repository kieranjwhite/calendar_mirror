digraph cal_stm {
    DeviceAuthPoll[label="DeviceAuthPoll"][shape="ellipse"];
    DisplayError[label="DisplayError"][shape="ellipse"];
    ErrorWait[label="ErrorWait"][shape="ellipse"];
    LoadAuth[label="LoadAuth"][shape="ellipse"];
    NetworkOutage[label="NetworkOutage"][shape="ellipse"];
    PageEvents[label="PageEvents"][shape="ellipse"];
    PollEvents[label="PollEvents"][shape="ellipse"];
    ReadFirstEvents[label="ReadFirstEvents"][shape="ellipse"];
    RefreshAuth[label="RefreshAuth"][shape="ellipse"];
    RequestCodes[label="RequestCodes"][shape="ellipse"];
    _start[label="_start"][shape="point"];
    _start -> LoadAuth[label=""];
    ErrorWait -> LoadAuth[label=""];
    DisplayError -> ErrorWait[label="DownloadedAt\n"];
    ErrorWait -> RequestCodes[label=""];
    LoadAuth -> RequestCodes[label=""];
    NetworkOutage -> RequestCodes[label=""];
    PollEvents -> RequestCodes[label=""];
    LoadAuth -> RefreshAuth[label="RefreshToken\n"];
    NetworkOutage -> RefreshAuth[label="RefreshToken\n"];
    PollEvents -> RefreshAuth[label="RefreshToken\n"];
    DeviceAuthPoll -> ReadFirstEvents[label="Authenticators\nRefreshedAt\nRefreshType\n"];
    RefreshAuth -> ReadFirstEvents[label="Authenticators\nRefreshedAt\nRefreshType\n"];
    PollEvents -> ReadFirstEvents[label="Authenticators\nRefreshedAt\nRefreshType\n"];
    RequestCodes -> DeviceAuthPoll[label="String\nPeriodSeconds\n"];
    LoadAuth -> DisplayError[label="String\n"];
    PageEvents -> DisplayError[label="String\n"];
    DeviceAuthPoll -> DisplayError[label="String\n"];
    ReadFirstEvents -> DisplayError[label="String\n"];
    RefreshAuth -> DisplayError[label="String\n"];
    RequestCodes -> DisplayError[label="String\n"];
    ReadFirstEvents -> PageEvents[label="Authenticators\nOption<PageToken>\nAppointments\nRefreshedAt\nDownloadedAt\nRefreshType\n"];
    PageEvents -> PollEvents[label="Authenticators\nRefreshedAt\nDownloadedAt\n"];
    RefreshAuth -> NetworkOutage[label="RefreshToken\nLastNetErrorAt\n"];
    ReadFirstEvents -> NetworkOutage[label="RefreshToken\nLastNetErrorAt\n"];
    PageEvents -> NetworkOutage[label="RefreshToken\nLastNetErrorAt\n"];
}
